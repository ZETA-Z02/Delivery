TABLAS DELIVERY 02/11/23

CREATE DATABASE delivery;

use delivery;

CREATE TABLE clientes(
id_cliente INT AUTO_INCREMENT,
nombre VARCHAR(50),
apellido VARCHAR(50),
dni INT UNIQUE,
telefono INT UNIQUE,
direccion VARCHAR(60),
correo VARCHAR(60),
PRIMARY KEY(id_cliente)
);

CREATE TABLE personal(
id_personal INT AUTO_INCREMENT,
nombre VARCHAR(50),
apellido VARCHAR(50),
dni INT UNIQUE,
telefono INT UNIQUE,
direccion VARCHAR(60),
estado INT,
cargo VARCHAR(10),
PRIMARY KEY(id_personal)
);

CREATE TABLE productos(
id_producto INT AUTO_INCREMENT,
nombre VARCHAR(50),
descripcion TEXT,
marca VARCHAR(50),
contenido VARCHAR(30),
precio DOUBLE(8,2),
PRIMARY KEY(id_producto)
);

CREATE TABLE repartidor(
id_repartidor INT AUTO_INCREMENT,
nombre VARCHAR(50),
apellido VARCHAR(50),
dni INT UNIQUE,
telefono INT UNIQUE,
vehiculo VARCHAR(50),
PRIMARY KEY(id_repartidor)
);

CREATE TABLE login(
id_login INT AUTO_INCREMENT,
usuario VARCHAR(50),
password VARCHAR(50),
id_cliente INT,
id_personal INT,
nivel INT,
PRIMARY KEY(id_login),
FOREIGN KEY (id_cliente) REFERENCES clientes(id_cliente),
FOREIGN KEY (id_personal) REFERENCES personal(id_personal)
);

CREATE TABLE almacen(
id_almacen INT AUTO_INCREMENT,
id_producto INT,
cantidad INT,
fecha_ultima_actualizacion DATE,
PRIMARY KEY(id_almacen),
FOREIGN KEY (id_producto) REFERENCES productos(id_producto)
);

CREATE TABLE inventario(
id_inventario INT AUTO_INCREMENT,
id_producto INT,
fecha_entrega DATE,
cantidad INT,
id_repartidor INT,
PRIMARY KEY(id_inventario),
FOREIGN KEY (id_producto) REFERENCES productos(id_producto),
FOREIGN KEY (id_repartidor) REFERENCES repartidor(id_repartidor)
);

CREATE TABLE pedidos(
id_pedido INT AUTO_INCREMENT,
id_personal INT,
id_cliente INT,
descripcion VARCHAR(80),
destino VARCHAR(80),
estado VARCHAR(15),
fecha Date,
hora TIME,
opcion_pago VARCHAR(20),
PRIMARY KEY(id_pedido),
FOREIGN KEY (id_personal) REFERENCES personal(id_personal),
FOREIGN KEY (id_cliente) REFERENCES clientes(id_cliente)
);

CREATE TABLE detallePedidos(
id_detalle INT AUTO_INCREMENT,
id_pedido INT,
id_producto INT,
cantidad INT,
subtotal DOUBLE(8,2),
PRIMARY KEY(id_detalle),
FOREIGN KEY (id_pedido) REFERENCES pedidos(id_pedido),
FOREIGN KEY (id_producto) REFERENCES productos(id_producto)
);












